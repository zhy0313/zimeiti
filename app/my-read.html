<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no">
  <meta name="format-detection" content="telephone=no">
  <title>百舸</title>
  <link rel="stylesheet" href="../dist/css/style.css">
</head>

<body>

<div class="hd-wrap">

  <div class="my-read-page page">

    <!--返回导航-->
    <h3 class="zmt-nav-back">
      <a href="javascript:history.go(-1);">
        <span class="icon-angle-left"></span>
      </a>
      我的阅读
    </h3>

    <!--阅读日历-->
    <section id="calendar" class="my-read-calendar">

      <div class="calendar-y-m">
        <span class="calendar-m"><em>--</em>月</span>
        <span class="calendar-y">--</span>
      </div>

      <ul class="calendar-d">
      </ul>

    </section>

    <!--阅读列表-->
    <section class="my-articles-list">

      <div class="articles-item">
        <a href="">
          <div class="item-l">
            <img src="http://tva2.sinaimg.cn/crop.0.0.512.512.50/9e5389bbjw8eylgqjhrzsj20e80e8jrw.jpg" alt="">
          </div>
          <h3>APP甚至操作系统的标配，不论是电商还是论坛。APP甚至操作系统的标配，不论是电商还是论坛。</h3>
          <div class="item-b">
            <span class="icon-heart">16</span>
            <span class="icon-commenting">10</span>
          </div>
        </a>
      </div>

      <div class="articles-item">
        <a href="">
          <div class="item-l">
            <img src="http://tva2.sinaimg.cn/crop.0.0.512.512.50/9e5389bbjw8eylgqjhrzsj20e80e8jrw.jpg" alt="">
          </div>
          <h3>APP甚至操作系统的标配，不论是电商还是论坛。APP甚至操作系统的标配，不论是电商还是论坛。</h3>
          <div class="item-b">
            <span class="icon-heart">16</span>
            <span class="icon-commenting">10</span>
          </div>
        </a>
      </div>

      <div class="articles-item">
        <a href="">
          <div class="item-l">
            <img src="http://tva2.sinaimg.cn/crop.0.0.512.512.50/9e5389bbjw8eylgqjhrzsj20e80e8jrw.jpg" alt="">
          </div>
          <h3>APP甚至操作系统的标配，不论是电商还是论坛。APP甚至操作系统的标配，不论是电商还是论坛。</h3>
          <div class="item-b">
            <span class="icon-heart">16</span>
            <span class="icon-commenting">10</span>
          </div>
        </a>
      </div>

    </section>

  </div>

</div>


<script src="../dist/component/sea.js"></script>
<script src="../dist/component/sea.config.js"></script>
<script>
  seajs.use(['jquery', 'modal'], function ($) {

    function getDaysOfMounth(month, year) {
      var day  = new Date(year, month, 1),
          days = [];
      while (day.getMonth() === month) {
        days.push(new Date(day));
        day.setDate(day.getDate() + 1);
      }
      return days;
    }


    // 阅读日历初始化
    function initCalendar() {
      var $calendar          = $("#calendar"),
          $calendarYearMonth = $calendar.find(".calendar-y-m"),
          $calendarYear      = $calendarYearMonth.find(".calendar-y"),
          $calendarMonth     = $calendarYearMonth.find(".calendar-m"),
          $calendarDays      = $calendar.find(".calendar-d");

      // 获取当前月份所有日期
      var now = new Date();
      var days = getDaysOfMounth(now.getMonth(), now.getFullYear());
      var weekends = ["日", "一", "二", "三", "四", "五", "六"];

      // 年月
      $calendarYear.html(now.getFullYear());
      $calendarMonth.find("em").html(now.getMonth() + 1);

      // 日
      days.forEach(function (day) {
        var unclick = day.getDate() > now.getDate() ? "disabled" : "";
        var content = "<li class=" + unclick + "><span>" + weekends[day.getDay()] + "</span><span>" + day.getDate() + "</span></li>";
        $calendarDays.append(content);
      });

      // test
      $calendarDays.find("li").eq(0).addClass("read");
      $calendarDays.find("li").eq(1).addClass("read active");

      return $calendar;

    }

    var $Calendar = initCalendar();

    // Listener
    $Calendar.on("click", "li", function () {
      var $this = $(this);
      if ($this.hasClass("disabled")) {
        return;
      }
      $(this).addClass("active").siblings("li").removeClass("active");
    });

  });
</script>

</body>
</html>
