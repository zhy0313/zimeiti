<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>首页加载</title>
  <meta name="format-detection" content="telephone=no">
  <meta name="format-detection" content="address=no">
  <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
  <link rel="stylesheet" href="../dist/css/style.css">
  <script>
    function Loader(images, callback) {
      var self = this;
      this.count = 0;
      this.images = images || [];

      for (var i = 0; i < this.images.length; i++) {
        var img = new Image();
        img.onload = function () {
          self.count++;
          console.log((self.count / self.images.length * 100).toFixed(2) + "%");
          if (self.count === self.images.length) {
            callback();
          }
        };
        img.src = images[i];
      }
    }

    new Loader([
      "http://coding.imooc.com/static/module/index/img/cover_new_02.jpg",
      "http://coding.imooc.com/static/module/index/img/cover_02.jpg",
      "http://coding.imooc.com/static/module/index/img/t_02.png",
      "http://coding.imooc.com/static/module/index/img/cover_new_04.jpg",
      "http://coding.imooc.com/static/module/index/img/t_03.png",
      "http://coding.imooc.com/static/module/index/img/cover_new_02.jpg"
    ], function () {
      console.log("done");
    })

  </script>
</head>
<body>

<div class="wrap">
  <div class="wrap-inner">
  </div>
</div>

<script src="../dist/component/sea.js"></script>
<script src="../dist/component/sea.config.js"></script>
<script>
  seajs.use(['fastclick', 'jquery'], function (fastclick, $) {

    // 处理300ms延迟
    fastclick(document.body);

  });
</script>

</body>
</html>
